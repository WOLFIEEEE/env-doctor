"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[969],{8270(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"features/unused-vars","title":"Unused Variable Detection","description":"Find environment variables defined in .env files but never used in your codebase.","source":"@site/docs/features/unused-vars.md","sourceDirName":"features","slug":"/features/unused-vars","permalink":"/env-doctor/docs/features/unused-vars","draft":false,"unlisted":false,"editUrl":"https://github.com/khushwantparihar/env-doctor/tree/main/docs/docs/features/unused-vars.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"Missing Variable Detection","permalink":"/env-doctor/docs/features/missing-vars"},"next":{"title":"Type Checking","permalink":"/env-doctor/docs/features/type-checking"}}');var r=s(4848),d=s(8453);const l={sidebar_position:2},c="Unused Variable Detection",o={},a=[{value:"How It Works",id:"how-it-works",level:2},{value:"Example Output",id:"example-output",level:2},{value:"Common Causes",id:"common-causes",level:2},{value:"Auto-Ignored Variables",id:"auto-ignored-variables",level:2},{value:"Configuration",id:"configuration",level:2},{value:"Ignoring Variables",id:"ignoring-variables",level:3},{value:"Custom Include Patterns",id:"custom-include-patterns",level:3},{value:"Placeholder Values",id:"placeholder-values",level:2},{value:"Fixing Unused Variables",id:"fixing-unused-variables",level:2},{value:"Option 1: Remove",id:"option-1-remove",level:3},{value:"Option 2: Ignore",id:"option-2-ignore",level:3},{value:"Option 3: Add Usage",id:"option-3-add-usage",level:3},{value:"Best Practices",id:"best-practices",level:2}];function t(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"unused-variable-detection",children:"Unused Variable Detection"})}),"\n",(0,r.jsxs)(n.p,{children:["Find environment variables defined in ",(0,r.jsx)(n.code,{children:".env"})," files but never used in your codebase."]}),"\n",(0,r.jsx)(n.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,r.jsxs)(n.p,{children:["env-doctor compares variables defined in your ",(0,r.jsx)(n.code,{children:".env"})," files against actual usage in your source code."]}),"\n",(0,r.jsx)(n.h2,{id:"example-output",children:"Example Output"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'\u26a0 Unused Variables (2 issues)\n\n  OLD_API_KEY\n    Variable "OLD_API_KEY" is defined in .env but never used in code\n    at .env:15\n\n  DEPRECATED_URL\n    Variable "DEPRECATED_URL" is defined in .env but never used in code\n    at .env:23\n'})}),"\n",(0,r.jsx)(n.h2,{id:"common-causes",children:"Common Causes"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Deprecated variables"})," - Old config that's no longer needed"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Typos"})," - Variable name doesn't match usage"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Framework variables"})," - Used by the runtime, not your code"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Build-time variables"})," - Used by build tools, not source code"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"auto-ignored-variables",children:"Auto-Ignored Variables"}),"\n",(0,r.jsx)(n.p,{children:"env-doctor automatically ignores common runtime variables:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"NODE_ENV"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"PORT"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"HOST"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"DEBUG"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"LOG_LEVEL"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"TZ"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"CI"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"And framework-specific variables:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Framework"}),(0,r.jsx)(n.th,{children:"Auto-Ignored"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Next.js"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"NEXT_TELEMETRY_DISABLED"}),", ",(0,r.jsx)(n.code,{children:"VERCEL_*"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Vite"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"VITE_CJS_*"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"CRA"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"BROWSER"}),", ",(0,r.jsx)(n.code,{children:"GENERATE_SOURCEMAP"})]})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.h3,{id:"ignoring-variables",children:"Ignoring Variables"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// env-doctor.config.js\nmodule.exports = {\n  ignore: [\n    'LEGACY_*',        // Ignore all LEGACY_ variables\n    'unused:DEBUG',    // Ignore unused DEBUG specifically\n  ]\n};\n"})}),"\n",(0,r.jsx)(n.h3,{id:"custom-include-patterns",children:"Custom Include Patterns"}),"\n",(0,r.jsx)(n.p,{children:"Make sure build scripts are scanned:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"include: [\n  'src/**/*.{ts,js,tsx,jsx}',\n  'scripts/**/*.js',\n  'webpack.config.js'\n]\n"})}),"\n",(0,r.jsx)(n.h2,{id:"placeholder-values",children:"Placeholder Values"}),"\n",(0,r.jsx)(n.p,{children:"Variables with placeholder values are not reported:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# These are ignored\nAPI_KEY=your_api_key_here\nSECRET=changeme\nTOKEN=placeholder\n"})}),"\n",(0,r.jsx)(n.p,{children:"Recognized placeholders:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"your_*"}),", ",(0,r.jsx)(n.code,{children:"changeme"}),", ",(0,r.jsx)(n.code,{children:"placeholder"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"todo"}),", ",(0,r.jsx)(n.code,{children:"xxx"}),", ",(0,r.jsx)(n.code,{children:"example_*"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"<placeholder>"}),", ",(0,r.jsx)(n.code,{children:"[placeholder]"})]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"fixing-unused-variables",children:"Fixing Unused Variables"}),"\n",(0,r.jsx)(n.h3,{id:"option-1-remove",children:"Option 1: Remove"}),"\n",(0,r.jsx)(n.p,{children:"If the variable is truly unused, remove it:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Before\nDATABASE_URL=postgres://...\nOLD_API_KEY=abc123  # Remove this\n\n# After\nDATABASE_URL=postgres://...\n"})}),"\n",(0,r.jsx)(n.h3,{id:"option-2-ignore",children:"Option 2: Ignore"}),"\n",(0,r.jsx)(n.p,{children:"If it's used by the runtime or build tools:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// env-doctor.config.js\nignore: ['OLD_API_KEY']\n"})}),"\n",(0,r.jsx)(n.h3,{id:"option-3-add-usage",children:"Option 3: Add Usage"}),"\n",(0,r.jsx)(n.p,{children:"If it should be used, add the reference:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Now it's used\nconst apiKey = process.env.OLD_API_KEY;\n"})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Regular cleanup"})," - Remove unused variables periodically"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Document runtime variables"})," - Add comments or ignore rules"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use descriptive names"})," - Makes it clear what's needed"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Keep ",(0,r.jsx)(n.code,{children:".env.example"})," updated"]})," - Remove unused from template too"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},8453(e,n,s){s.d(n,{R:()=>l,x:()=>c});var i=s(6540);const r={},d=i.createContext(r);function l(e){const n=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);