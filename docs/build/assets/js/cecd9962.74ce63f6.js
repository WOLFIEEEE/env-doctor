"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[416],{5470(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>c,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"frameworks/vite","title":"Vite","description":"env-doctor supports Vite projects with import.meta.env detection.","source":"@site/docs/frameworks/vite.md","sourceDirName":"frameworks","slug":"/frameworks/vite","permalink":"/env-doctor/docs/frameworks/vite","draft":false,"unlisted":false,"editUrl":"https://github.com/khushwantparihar/env-doctor/tree/main/docs/docs/frameworks/vite.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"Next.js","permalink":"/env-doctor/docs/frameworks/nextjs"},"next":{"title":"Create React App","permalink":"/env-doctor/docs/frameworks/cra"}}');var r=s(4848),t=s(8453);const c={sidebar_position:2},o="Vite",d={},l=[{value:"Auto-Detection",id:"auto-detection",level:2},{value:"Client-Side Variables",id:"client-side-variables",level:2},{value:"Access Patterns",id:"access-patterns",level:2},{value:"Environment Files",id:"environment-files",level:2},{value:"Configuration",id:"configuration",level:2},{value:"TypeScript Support",id:"typescript-support",level:2},{value:"Common Issues",id:"common-issues",level:2},{value:"Missing VITE_ Prefix",id:"missing-vite_-prefix",level:3},{value:"Exposing Secrets",id:"exposing-secrets",level:3},{value:"SSR Considerations",id:"ssr-considerations",level:3},{value:"Example Configuration",id:"example-configuration",level:2}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"vite",children:"Vite"})}),"\n",(0,r.jsxs)(n.p,{children:["env-doctor supports Vite projects with ",(0,r.jsx)(n.code,{children:"import.meta.env"})," detection."]}),"\n",(0,r.jsx)(n.h2,{id:"auto-detection",children:"Auto-Detection"}),"\n",(0,r.jsx)(n.p,{children:"env-doctor detects Vite projects by:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"vite.config.js"}),", ",(0,r.jsx)(n.code,{children:"vite.config.ts"}),", or ",(0,r.jsx)(n.code,{children:"vite.config.mjs"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"vite"})," in ",(0,r.jsx)(n.code,{children:"package.json"})," dependencies"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"client-side-variables",children:"Client-Side Variables"}),"\n",(0,r.jsxs)(n.p,{children:["Vite uses the ",(0,r.jsx)(n.code,{children:"VITE_"})," prefix for client-accessible variables:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Server-only (not exposed)\nDATABASE_URL=postgres://...\nAPI_SECRET=secret123\n\n# Client-accessible (bundled into JavaScript)\nVITE_API_URL=https://api.example.com\nVITE_APP_TITLE=My App\n"})}),"\n",(0,r.jsx)(n.h2,{id:"access-patterns",children:"Access Patterns"}),"\n",(0,r.jsxs)(n.p,{children:["Vite uses ",(0,r.jsx)(n.code,{children:"import.meta.env"})," instead of ",(0,r.jsx)(n.code,{children:"process.env"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Vite pattern\nconst apiUrl = import.meta.env.VITE_API_URL;\n\n// Built-in variables\nconst mode = import.meta.env.MODE;        // 'development' | 'production'\nconst dev = import.meta.env.DEV;          // true in dev\nconst prod = import.meta.env.PROD;        // true in prod\nconst ssr = import.meta.env.SSR;          // true during SSR\nconst baseUrl = import.meta.env.BASE_URL; // base URL\n"})}),"\n",(0,r.jsx)(n.p,{children:"env-doctor detects both patterns:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"import.meta.env.VITE_*"})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"process.env.VITE_*"})," (for SSR/Node contexts)"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"environment-files",children:"Environment Files"}),"\n",(0,r.jsx)(n.p,{children:"Vite loads env files in this order:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"File"}),(0,r.jsx)(n.th,{children:"Loaded When"}),(0,r.jsx)(n.th,{children:"Commit?"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:".env"})}),(0,r.jsx)(n.td,{children:"Always"}),(0,r.jsx)(n.td,{children:"Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:".env.local"})}),(0,r.jsx)(n.td,{children:"Always (gitignored)"}),(0,r.jsx)(n.td,{children:"No"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:".env.[mode]"})}),(0,r.jsx)(n.td,{children:"Specific mode"}),(0,r.jsx)(n.td,{children:"Yes"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:".env.[mode].local"})}),(0,r.jsx)(n.td,{children:"Specific mode"}),(0,r.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Mode defaults to ",(0,r.jsx)(n.code,{children:"development"})," for ",(0,r.jsx)(n.code,{children:"vite dev"})," and ",(0,r.jsx)(n.code,{children:"production"})," for ",(0,r.jsx)(n.code,{children:"vite build"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"configuration",children:"Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// env-doctor.config.js\nmodule.exports = {\n  envFiles: [\n    '.env',\n    '.env.local',\n    '.env.development',\n    '.env.development.local'\n  ],\n  templateFile: '.env.example',\n  include: ['src/**/*.{ts,tsx,js,jsx,vue,svelte}'],\n  framework: 'vite'\n};\n"})}),"\n",(0,r.jsx)(n.h2,{id:"typescript-support",children:"TypeScript Support"}),"\n",(0,r.jsxs)(n.p,{children:["Vite provides type definitions for ",(0,r.jsx)(n.code,{children:"import.meta.env"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'// src/vite-env.d.ts\n/// <reference types="vite/client" />\n\ninterface ImportMetaEnv {\n  readonly VITE_API_URL: string;\n  readonly VITE_APP_TITLE: string;\n}\n\ninterface ImportMeta {\n  readonly env: ImportMetaEnv;\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"env-doctor doesn't validate against these types yet, but you can use config:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"variables: {\n  VITE_API_URL: {\n    required: true,\n    type: 'url'\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"common-issues",children:"Common Issues"}),"\n",(0,r.jsx)(n.h3,{id:"missing-vite_-prefix",children:"Missing VITE_ Prefix"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem:"})," Variable not available in browser."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// \u274c Won't work - not exposed\nconst secret = import.meta.env.API_SECRET;\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fix:"})," Add the prefix (if safe to expose)."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"VITE_API_KEY=abc123\n"})}),"\n",(0,r.jsx)(n.h3,{id:"exposing-secrets",children:"Exposing Secrets"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Problem:"})," Secret bundled into client."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \u274c Security risk\nVITE_DATABASE_URL=postgres://user:pass@host/db\n"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Fix:"})," Don't use VITE_ prefix for secrets."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \u2705 Safe - not exposed\nDATABASE_URL=postgres://user:pass@host/db\n"})}),"\n",(0,r.jsx)(n.h3,{id:"ssr-considerations",children:"SSR Considerations"}),"\n",(0,r.jsxs)(n.p,{children:["In SSR mode, you can access non-",(0,r.jsx)(n.code,{children:"VITE_"})," variables server-side:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:"// Server-side only (SSR)\nif (import.meta.env.SSR) {\n  const dbUrl = process.env.DATABASE_URL;\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"example-configuration",children:"Example Configuration"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"// env-doctor.config.js\nmodule.exports = {\n  envFiles: ['.env', '.env.local'],\n  templateFile: '.env.example',\n  include: [\n    'src/**/*.{ts,tsx,js,jsx}',\n    'src/**/*.vue',\n    'src/**/*.svelte'\n  ],\n  exclude: ['node_modules', 'dist'],\n  framework: 'vite',\n  variables: {\n    VITE_API_URL: {\n      required: true,\n      type: 'url'\n    },\n    VITE_APP_TITLE: {\n      required: true\n    },\n    DATABASE_URL: {\n      required: true,\n      secret: true\n    }\n  }\n};\n"})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453(e,n,s){s.d(n,{R:()=>c,x:()=>o});var i=s(6540);const r={},t=i.createContext(r);function c(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);