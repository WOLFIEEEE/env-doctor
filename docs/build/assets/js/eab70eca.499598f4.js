"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[113],{3201(e,n,s){s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>t,default:()=>a,frontMatter:()=>c,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"cli-reference","title":"CLI Reference","description":"Complete reference for all env-doctor commands and options.","source":"@site/docs/cli-reference.md","sourceDirName":".","slug":"/cli-reference","permalink":"/env-doctor/docs/cli-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/khushwantparihar/env-doctor/tree/main/docs/docs/cli-reference.md","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{"sidebar_position":10},"sidebar":"docsSidebar","previous":{"title":"Create React App","permalink":"/env-doctor/docs/frameworks/cra"},"next":{"title":"API Reference","permalink":"/env-doctor/docs/api-reference"}}');var i=s(4848),d=s(8453);const c={sidebar_position:10},t="CLI Reference",l={},o=[{value:"Default Command",id:"default-command",level:2},{value:"Arguments",id:"arguments",level:3},{value:"Options",id:"options",level:3},{value:"Examples",id:"examples",level:3},{value:"<code>init</code>",id:"init",level:2},{value:"Options",id:"options-1",level:3},{value:"Examples",id:"examples-1",level:3},{value:"Output Files",id:"output-files",level:3},{value:"<code>fix</code>",id:"fix",level:2},{value:"Options",id:"options-2",level:3},{value:"Examples",id:"examples-2",level:3},{value:"Interactive Prompts",id:"interactive-prompts",level:3},{value:"<code>scan-history</code>",id:"scan-history",level:2},{value:"Options",id:"options-3",level:3},{value:"Examples",id:"examples-3",level:3},{value:"Output",id:"output",level:3},{value:"<code>watch</code>",id:"watch",level:2},{value:"Options",id:"options-4",level:3},{value:"Examples",id:"examples-4",level:3},{value:"Behavior",id:"behavior",level:3},{value:"Exit Codes",id:"exit-codes",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Output Formats",id:"output-formats",level:2},{value:"Console (default)",id:"console-default",level:3},{value:"JSON",id:"json",level:3},{value:"SARIF",id:"sarif",level:3}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"cli-reference",children:"CLI Reference"})}),"\n",(0,i.jsx)(n.p,{children:"Complete reference for all env-doctor commands and options."}),"\n",(0,i.jsx)(n.h2,{id:"default-command",children:"Default Command"}),"\n",(0,i.jsx)(n.p,{children:"Scan the current directory for environment variable issues."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"env-doctor [directory] [options]\n"})}),"\n",(0,i.jsx)(n.h3,{id:"arguments",children:"Arguments"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Argument"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Default"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"directory"})}),(0,i.jsx)(n.td,{children:"Directory to scan"}),(0,i.jsx)(n.td,{children:"Current directory"})]})})]}),"\n",(0,i.jsx)(n.h3,{id:"options",children:"Options"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Alias"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--config <path>"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-c"})}),(0,i.jsx)(n.td,{children:"Path to config file"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--env <environment>"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-e"})}),(0,i.jsx)(n.td,{children:"Target environment (development, production, test)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--format <format>"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-f"})}),(0,i.jsxs)(n.td,{children:["Output format: ",(0,i.jsx)(n.code,{children:"console"}),", ",(0,i.jsx)(n.code,{children:"json"}),", ",(0,i.jsx)(n.code,{children:"sarif"})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--ci"})}),(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{children:"CI mode - exit code 1 on errors"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--verbose"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-v"})}),(0,i.jsx)(n.td,{children:"Verbose output with debug info"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--strict"})}),(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{children:"Treat warnings as errors"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--version"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-V"})}),(0,i.jsx)(n.td,{children:"Output version number"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--help"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-h"})}),(0,i.jsx)(n.td,{children:"Display help"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Scan current directory\nenv-doctor\n\n# Scan specific directory\nenv-doctor ./packages/api\n\n# Use custom config\nenv-doctor -c ./custom-config.js\n\n# Target production environment\nenv-doctor --env production\n\n# Output as JSON\nenv-doctor --format json > report.json\n\n# CI mode with SARIF output\nenv-doctor --ci --format sarif > results.sarif\n\n# Verbose mode for debugging\nenv-doctor --verbose\n\n# Strict mode (warnings = errors)\nenv-doctor --strict\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"init",children:(0,i.jsx)(n.code,{children:"init"})}),"\n",(0,i.jsx)(n.p,{children:"Initialize env-doctor in your project."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"env-doctor init [options]\n"})}),"\n",(0,i.jsx)(n.h3,{id:"options-1",children:"Options"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--config-only"})}),(0,i.jsx)(n.td,{children:"Only create config file"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--example-only"})}),(0,i.jsx)(n.td,{children:"Only create .env.example"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--force"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-f"})})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"examples-1",children:"Examples"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Initialize both config and .env.example\nenv-doctor init\n\n# Create only config file\nenv-doctor init --config-only\n\n# Create only .env.example\nenv-doctor init --example-only\n\n# Overwrite existing files\nenv-doctor init --force\n"})}),"\n",(0,i.jsx)(n.h3,{id:"output-files",children:"Output Files"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"env-doctor.config.js"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:"module.exports = {\n  envFiles: ['.env', '.env.local'],\n  templateFile: '.env.example',\n  include: ['src/**/*.{ts,js,tsx,jsx}'],\n  exclude: ['node_modules', 'dist'],\n  framework: 'auto',\n  variables: {},\n  ignore: [],\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:".env.example"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Environment Variables Template\n# Copy this file to .env and fill in the values\n\nDATABASE_URL=postgres://user:pass@localhost:5432/db\nAPI_KEY=\nNODE_ENV=development\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"fix",children:(0,i.jsx)(n.code,{children:"fix"})}),"\n",(0,i.jsx)(n.p,{children:"Interactively fix environment issues."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"env-doctor fix [options]\n"})}),"\n",(0,i.jsx)(n.h3,{id:"options-2",children:"Options"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--config <path>"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-c"})})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--dry-run"})}),(0,i.jsx)(n.td,{children:"Show what would be fixed without changes"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"examples-2",children:"Examples"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Interactive fix mode\nenv-doctor fix\n\n# Dry run - preview changes\nenv-doctor fix --dry-run\n"})}),"\n",(0,i.jsx)(n.h3,{id:"interactive-prompts",children:"Interactive Prompts"}),"\n",(0,i.jsx)(n.p,{children:"For each issue, you can choose:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Add to .env"})," - Add the variable with a value"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Add to ignore list"})," - Skip this variable in future scans"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Skip"})," - Ignore for now"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"scan-history",children:(0,i.jsx)(n.code,{children:"scan-history"})}),"\n",(0,i.jsx)(n.p,{children:"Scan git history for leaked secrets."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"env-doctor scan-history [options]\n"})}),"\n",(0,i.jsx)(n.h3,{id:"options-3",children:"Options"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Default"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--depth <number>"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-d"})}),(0,i.jsx)(n.td,{children:"Number of commits to scan"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--format <format>"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-f"})}),(0,i.jsxs)(n.td,{children:["Output format: ",(0,i.jsx)(n.code,{children:"console"}),", ",(0,i.jsx)(n.code,{children:"json"})]})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"examples-3",children:"Examples"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Scan last 100 commits\nenv-doctor scan-history\n\n# Scan last 500 commits\nenv-doctor scan-history --depth 500\n\n# Output as JSON\nenv-doctor scan-history --format json\n"})}),"\n",(0,i.jsx)(n.h3,{id:"output",children:"Output"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"\u26a0 Found 2 potential secret(s) in git history:\n\n  STRIPE_SECRET_KEY\n    Commit: a1b2c3d4\n    File: .env:12\n    Author: developer@example.com\n    Date: 2024-01-15\n    Value: sk_li...5678\n\nRecommendation: Consider rotating these credentials\nand using git-filter-branch or BFG to remove them.\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"watch",children:(0,i.jsx)(n.code,{children:"watch"})}),"\n",(0,i.jsx)(n.p,{children:"Watch for changes and re-analyze automatically."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"env-doctor watch [options]\n"})}),"\n",(0,i.jsx)(n.h3,{id:"options-4",children:"Options"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Option"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"--config <path>"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"-c"})})]})})]}),"\n",(0,i.jsx)(n.h3,{id:"examples-4",children:"Examples"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Start watch mode\nenv-doctor watch\n\n# With custom config\nenv-doctor watch --config ./custom-config.js\n"})}),"\n",(0,i.jsx)(n.h3,{id:"behavior",children:"Behavior"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Watches ",(0,i.jsx)(n.code,{children:".env"})," files and source directories"]}),"\n",(0,i.jsx)(n.li,{children:"Re-scans on file changes"}),"\n",(0,i.jsx)(n.li,{children:"Updates terminal output in place"}),"\n",(0,i.jsxs)(n.li,{children:["Press ",(0,i.jsx)(n.code,{children:"Ctrl+C"})," to stop"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"exit-codes",children:"Exit Codes"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Code"}),(0,i.jsx)(n.th,{children:"Meaning"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"0"})}),(0,i.jsx)(n.td,{children:"No errors found"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"1"})}),(0,i.jsx)(n.td,{children:"Errors found (or warnings in strict mode)"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Variable"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"GITHUB_ACTIONS"})}),(0,i.jsx)(n.td,{children:"Enables GitHub Actions annotation format"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"CI"})}),(0,i.jsx)(n.td,{children:"Detected CI environment (various CI providers)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"NO_COLOR"})}),(0,i.jsx)(n.td,{children:"Disables colored output"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"output-formats",children:"Output Formats"}),"\n",(0,i.jsx)(n.h3,{id:"console-default",children:"Console (default)"}),"\n",(0,i.jsx)(n.p,{children:"Human-readable output with colors and formatting:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"env-doctor v1.0.0\n\nFramework: nextjs\nScanned 42 files, 12 env variables\n\n\u2717 Missing Variables (2 issues)\n  DATABASE_URL\n    Variable is used but not defined\n    at src/lib/db.ts:5\n\nSummary: 2 errors, 1 warning\n"})}),"\n",(0,i.jsx)(n.h3,{id:"json",children:"JSON"}),"\n",(0,i.jsx)(n.p,{children:"Machine-readable JSON output:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"env-doctor --format json\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "version": "1.0.0",\n  "timestamp": "2024-01-15T10:30:00Z",\n  "framework": "nextjs",\n  "summary": {\n    "totalIssues": 3,\n    "errors": 2,\n    "warnings": 1\n  },\n  "issues": [...]\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"sarif",children:"SARIF"}),"\n",(0,i.jsx)(n.p,{children:"GitHub Code Scanning format:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"env-doctor --format sarif > results.sarif\n"})}),"\n",(0,i.jsx)(n.p,{children:"Upload to GitHub:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"- uses: github/codeql-action/upload-sarif@v3\n  with:\n    sarif_file: results.sarif\n"})})]})}function a(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453(e,n,s){s.d(n,{R:()=>c,x:()=>t});var r=s(6540);const i={},d=r.createContext(i);function c(e){const n=r.useContext(d);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);