"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[398],{6759(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"examples/basic-usage","title":"Basic Usage","description":"A step-by-step guide to using env-doctor in a typical project.","source":"@site/docs/examples/basic-usage.md","sourceDirName":"examples","slug":"/examples/basic-usage","permalink":"/env-doctor/docs/examples/basic-usage","draft":false,"unlisted":false,"editUrl":"https://github.com/khushwantparihar/env-doctor/tree/main/docs/docs/examples/basic-usage.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"CI/CD Integration","permalink":"/env-doctor/docs/ci-integration"},"next":{"title":"Monorepo Setup","permalink":"/env-doctor/docs/examples/monorepo"}}');var t=s(4848),r=s(8453);const a={sidebar_position:1},c="Basic Usage",o={},l=[{value:"Scenario",id:"scenario",level:2},{value:"Step 1: Initial Scan",id:"step-1-initial-scan",level:2},{value:"Step 2: Fix Missing Variables",id:"step-2-fix-missing-variables",level:2},{value:"Step 3: Clean Up Unused Variables",id:"step-3-clean-up-unused-variables",level:2},{value:"Step 4: Create Configuration",id:"step-4-create-configuration",level:2},{value:"Step 5: Create .env.example",id:"step-5-create-envexample",level:2},{value:"Step 6: Verify",id:"step-6-verify",level:2},{value:"Step 7: Add to CI",id:"step-7-add-to-ci",level:2},{value:"Step 8: Add to Git Hooks",id:"step-8-add-to-git-hooks",level:2},{value:"Project Structure",id:"project-structure",level:2},{value:"Git Ignore",id:"git-ignore",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"basic-usage",children:"Basic Usage"})}),"\n",(0,t.jsx)(n.p,{children:"A step-by-step guide to using env-doctor in a typical project."}),"\n",(0,t.jsx)(n.h2,{id:"scenario",children:"Scenario"}),"\n",(0,t.jsx)(n.p,{children:"You have a Node.js/TypeScript project with:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["A ",(0,t.jsx)(n.code,{children:".env"})," file with configuration"]}),"\n",(0,t.jsxs)(n.li,{children:["Source code that uses ",(0,t.jsx)(n.code,{children:"process.env"})]}),"\n",(0,t.jsx)(n.li,{children:"No documentation of required variables"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"step-1-initial-scan",children:"Step 1: Initial Scan"}),"\n",(0,t.jsx)(n.p,{children:"Run env-doctor to see current issues:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx env-doctor\n"})}),"\n",(0,t.jsx)(n.p,{children:"Example output:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'env-doctor v1.0.0\n\nFramework: node\nScanned 24 files, 8 env variables\n\n\u2717 Missing Variables (3 issues)\n\n  DATABASE_URL\n    Variable "DATABASE_URL" is used in code but not defined\n    at src/db.ts:5\n\n  REDIS_URL\n    Variable "REDIS_URL" is used in code but not defined\n    at src/cache.ts:12\n\n  JWT_SECRET\n    Variable "JWT_SECRET" is used in code but not defined\n    at src/auth.ts:8\n\n\u26a0 Unused Variables (2 issues)\n\n  OLD_API_KEY\n    Defined in .env but never used\n    at .env:15\n\n  LEGACY_URL\n    Defined in .env but never used\n    at .env:18\n\nSummary: 3 errors, 2 warnings\nCompleted in 89ms\n'})}),"\n",(0,t.jsx)(n.h2,{id:"step-2-fix-missing-variables",children:"Step 2: Fix Missing Variables"}),"\n",(0,t.jsxs)(n.p,{children:["Add the missing variables to your ",(0,t.jsx)(n.code,{children:".env"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# .env\nPORT=3000\nNODE_ENV=development\n\n# Add these\nDATABASE_URL=postgres://localhost:5432/mydb\nREDIS_URL=redis://localhost:6379\nJWT_SECRET=your-secret-key-here\n"})}),"\n",(0,t.jsx)(n.h2,{id:"step-3-clean-up-unused-variables",children:"Step 3: Clean Up Unused Variables"}),"\n",(0,t.jsx)(n.p,{children:"Remove or comment out unused variables:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# .env\nPORT=3000\nNODE_ENV=development\nDATABASE_URL=postgres://localhost:5432/mydb\nREDIS_URL=redis://localhost:6379\nJWT_SECRET=your-secret-key-here\n\n# Removed: OLD_API_KEY, LEGACY_URL\n"})}),"\n",(0,t.jsx)(n.h2,{id:"step-4-create-configuration",children:"Step 4: Create Configuration"}),"\n",(0,t.jsx)(n.p,{children:"Initialize env-doctor config:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx env-doctor init\n"})}),"\n",(0,t.jsxs)(n.p,{children:["This creates ",(0,t.jsx)(n.code,{children:"env-doctor.config.js"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-javascript",children:"module.exports = {\n  envFiles: ['.env', '.env.local'],\n  templateFile: '.env.example',\n  include: ['src/**/*.{ts,js}'],\n  exclude: ['node_modules', 'dist'],\n  framework: 'auto',\n  variables: {\n    DATABASE_URL: {\n      required: true,\n      secret: true,\n      pattern: /^postgres:\\/\\//\n    },\n    JWT_SECRET: {\n      required: true,\n      secret: true\n    }\n  }\n};\n"})}),"\n",(0,t.jsx)(n.h2,{id:"step-5-create-envexample",children:"Step 5: Create .env.example"}),"\n",(0,t.jsxs)(n.p,{children:["The ",(0,t.jsx)(n.code,{children:"init"})," command also creates ",(0,t.jsx)(n.code,{children:".env.example"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Environment Variables Template\n# Copy this file to .env and fill in the values\n\n# Server\nPORT=3000\nNODE_ENV=development\n\n# Database\nDATABASE_URL=postgres://user:pass@localhost:5432/db\n\n# Cache\nREDIS_URL=redis://localhost:6379\n\n# Authentication\nJWT_SECRET=\n"})}),"\n",(0,t.jsx)(n.h2,{id:"step-6-verify",children:"Step 6: Verify"}),"\n",(0,t.jsx)(n.p,{children:"Run env-doctor again:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx env-doctor\n"})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"env-doctor v1.0.0\n\nFramework: node\nScanned 24 files, 5 env variables\n\n\u2713 Sync Check\n  .env and .env.example are in sync\n\nSummary: All checks passed!\nCompleted in 45ms\n"})}),"\n",(0,t.jsx)(n.h2,{id:"step-7-add-to-ci",children:"Step 7: Add to CI"}),"\n",(0,t.jsx)(n.p,{children:"Add to your GitHub Actions workflow:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-yaml",children:"# .github/workflows/ci.yml\n- name: Check environment\n  run: npx env-doctor --ci\n"})}),"\n",(0,t.jsx)(n.h2,{id:"step-8-add-to-git-hooks",children:"Step 8: Add to Git Hooks"}),"\n",(0,t.jsx)(n.p,{children:"Prevent bad commits with Husky:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'npm install -D husky\nnpx husky init\necho "npx env-doctor --ci" > .husky/pre-commit\n'})}),"\n",(0,t.jsx)(n.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,t.jsx)(n.p,{children:"Your project now has:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"my-project/\n\u251c\u2500\u2500 .env                    # Local config (gitignored)\n\u251c\u2500\u2500 .env.example            # Template (committed)\n\u251c\u2500\u2500 env-doctor.config.js    # Config (committed)\n\u251c\u2500\u2500 .gitignore              # Includes .env\n\u2514\u2500\u2500 src/\n    \u2514\u2500\u2500 ...\n"})}),"\n",(0,t.jsx)(n.h2,{id:"git-ignore",children:"Git Ignore"}),"\n",(0,t.jsxs)(n.p,{children:["Make sure ",(0,t.jsx)(n.code,{children:".env"})," is gitignored:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# .gitignore\n.env\n.env.local\n.env.*.local\n"})}),"\n",(0,t.jsx)(n.p,{children:"But commit the template and config:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'git add .env.example env-doctor.config.js\ngit commit -m "Add env-doctor configuration"\n'})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>a,x:()=>c});var i=s(6540);const t={},r=i.createContext(t);function a(e){const n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);